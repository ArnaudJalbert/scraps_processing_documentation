<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Scraps Processing Scanner</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="d047ea05-d11a-429e-ad4a-9828ae6e394d" class="page sans"><header><div class="page-header-icon undefined"><span class="icon">🔬</span></div><h1 class="page-title">Scraps Processing Scanner</h1><p class="page-description"></p></header><div class="page-body"><nav id="7907e089-635e-4226-a7a8-a83d8d23da75" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c44e5f35-b514-4ed6-8359-15004a966ac4">Repository</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b2054736-9169-467d-a308-35959f61d932">Introduction</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#db7edece-352a-4f7b-bc10-7584b67677ed">Technology</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5d389a47-e053-402c-ad39-ad58d7430c3c">Augmented Reality Engine</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#54c59392-fb58-4d0c-b775-863e7823a162">Viro</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#9ab8137d-3ad3-4f39-8e22-59dac0a619c1">A-Frame</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#cb973e6b-4912-4d41-b2fb-c9580609bdc0">Unity</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#dfe5f956-654a-49ec-bf40-84afebba8703">Development Tools</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#175e7774-65ef-461b-8080-c99172c7d66a">Platform choice</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#4e7e3254-9297-4950-b001-c36de2e6f23b">AR Foundation</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cdae6668-ac4a-495a-9371-4957e8a7827b">Xcode</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#64e3b3ab-2e8a-45ea-9879-7ea3fcb74c8f">Features</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d77fafcd-42fa-4e04-9225-6ff045070b2c">Login and Create Account</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#74858166-ee89-49a3-94bd-eda77f3a781c">Identification UI</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#f402b43f-1bdc-4681-b6ec-af84a04fa4b4">Create Account UI</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#c8c78479-e63e-4f0e-9472-210d77faf3c1">Login UI</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9a067fd6-b62c-46de-aaa9-383c28f48fd5">Workflow</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#df843e42-6fc1-48fc-abaf-f9711a05c74b">AR Plane Detection</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#88401acb-f31a-45b3-9b05-2b13233aa315">Raycasting</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#93df1a41-928e-49a4-9daf-b3405e8bce50">Distance between points</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2990f4b1-35d5-4eaf-9942-999e82adb193">Outline Drawing Integration</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#45bf4ce4-89ed-4425-8430-377d26c2cd80">Points Positioning</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#ad97074b-9479-418a-98e0-d10943da76e3">Close Outline Loop </a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#5fde8d65-0575-4be3-a4d7-fd1069a56026">Lines drawing</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#02dda9ed-c99e-4b7d-a1ea-f8701a81c51f">Taking a Screenshot</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e8adbb35-f249-45c6-8521-d9923ebcebd6">Sending Scraps Data</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#94160f0b-95c2-45e7-9657-aced200fe113">Identification</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c9048758-420f-4636-8103-47aa4ac3a83b">Live Demo</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2bc2ff1d-65e2-42c2-aec8-4b66dec36bb4">Create an account and register a scrap</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1406d260-b565-4e1d-91e3-39508125ba95">Login and register a scrap</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5250e2c1-e4c6-4563-89a9-594a222697cf">Non-implemented Features</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#88208e54-0148-4761-9985-45084e74c439">Color detection</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5d77501d-c02a-4310-b9c7-9b971853ae1b">Integration with React Native</a></div></nav><h1 id="c44e5f35-b514-4ed6-8359-15004a966ac4" class="">Repository</h1><figure id="76d766ae-70d8-4862-85fd-2bb0b9577de6"><div class="source">https://github.com/ArnaudJalbert/scraps_processing</div></figure><h1 id="b2054736-9169-467d-a308-35959f61d932" class="">Introduction</h1><p id="8d310c6a-5c77-465d-beb4-de17ff5b3258" class="">This is definitely the most complex component of the project. A lot more research was done to implement the scanner than any other modules of the project. It is also the part of the project I spent the most time implementing. I would say I spent as much time working on the scanner than I spent working on the interface and the API.</p><h1 id="db7edece-352a-4f7b-bc10-7584b67677ed" class="">Technology</h1><h2 id="5d389a47-e053-402c-ad39-ad58d7430c3c" class="">Augmented Reality Engine</h2><h3 id="54c59392-fb58-4d0c-b775-863e7823a162" class="">Viro</h3><p id="a58c87d6-9a78-4a87-8be3-cbe21ca47054" class="">When I first started my research to find a viable process to digitally measure distances with a phone, my first stop was <a href="https://github.com/ViroCommunity">Viro</a>. Viro is an augmented reality and virtual reality framework that has been built to be directly integrated into <a href="https://reactnative.dev/">React Native</a>. Since I wanted to use React Native, it made sense to use this framework since I could then build my interface directly in the same interface. However, I started setting up the project and encountered numerous problems.</p><p id="3dffde72-6065-42d2-b442-b705b1dcde0b" class="">First of all, I needed to be on a much older version of React Native to make Viro work. This caused a lot of problems when trying to run the app since most packages within this version were deprecated and caused conflicts with the other packages I wanted to use to make the interface. I have tried a couple of times to make it work but the dependencies became really complex really quickly.</p><pre id="ad3c11ab-9282-4942-833e-29badfb8cfc7" class="code"><code>&quot;Failed to construct transformer:  Error: error:0308010C:digital envelope routines::unsupported
    at new Hash (node:internal/crypto/hash:71:19)
    at Object.createHash (node:crypto:133:10)
    at stableHash (F:\Android\samples\ARDrivingCar\node_modules\metro-cache\src\stableHash.js:19:8)
    at Object.getCacheKey (F:\Android\samples\ARDrivingCar\node_modules\metro-transform-worker\src\index.js:593:7)
    at getTransformCacheKey (F:\Android\samples\ARDrivingCar\node_modules\metro\src\DeltaBundler\getTransformCacheKey.js:24:19)
    at new Transformer (F:\Android\samples\ARDrivingCar\node_modules\metro\src\DeltaBundler\Transformer.js:48:9)
    at F:\Android\samples\ARDrivingCar\node_modules\metro\src\Bundler.js:22:29
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processTimers (node:internal/timers:509:9) {
  opensslErrorStack: [ &#x27;error:03000086:digital envelope routines::initialization error&#x27; ],
  library: &#x27;digital envelope routines&#x27;,
  reason: &#x27;unsupported&#x27;,
  code: &#x27;ERR_OSSL_EVP_UNSUPPORTED&#x27;
}&quot;</code></pre><p id="9bcc14bb-fd79-4667-9fc3-8d0e7d074c24" class="">Also, Viro is not currently maintained. Hence, all the bugs, new features, and issues are currently not being worked on and it is very difficult to get some support. Just looking at the Discord, it seemed like everyone had similar problems. I decided to not use Viro since it was not maintained and difficult to work with.</p><h3 id="9ab8137d-3ad3-4f39-8e22-59dac0a619c1" class="">A-Frame</h3><p id="469ef48d-0586-4a2a-bb97-2b2e72c6b597" class="">After the failed attempt at using Viro, I decided to try out <a href="https://aframe.io/">A-Frame</a>. It is initially a WebVR framework that is not meant to be used as an augmented reality engine. But, another project called <a href="https://jeromeetienne.github.io/AR.js/aframe/">aframe-ar</a> initiated by <a href="https://github.com/jeromeetienne">Jerome Etienne</a> used the VR capabilities of the framework to enable AR as well.</p><div id="96417828-e490-4385-a475-65aa388ee33d" class="column-list"><div id="45ce22a8-e0ec-46a4-af69-386cf832ee0c" style="width:50%" class="column"><p id="ef5ae74d-a520-41da-93c3-282b700463a2" class="">I looked promising at first since it could work directly in the browser, allowing me to integrate directly into my React Native application. I was able to get the first example working and make some objects float along a Hiro target.</p></div><div id="3af93e86-3f86-4593-a332-d5843fbf7076" style="width:50%" class="column"><figure id="d79fa2d4-c417-4e3e-a8d4-ef5b8a2ef4c6" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled.png"><img style="width:480px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled.png"/></a></figure></div></div><p id="7cc47942-c7e3-4bce-a6f6-edf768fc4e2c" class="">Now that the basic application worked, I first tried to implement what is called a “hit test”, which is simply when the user clicks on the screen and the engine tries to map the point that was tapped as a point in the AR environment. My thought process was that if I was able to get multiple 3D points, then I could find the distance between them and create the outline with multiple hit points. While there looked like there were examples that were doing similar operations to what I wanted to do, I had a lot of trouble finding good documentation to accomplish what I wanted to do. While I think I would have been able to find a solution eventually, there were a lot of issues with mobile browsers and if doing such a simple thing was that complicated, it would not be a sustainable way to continue the project</p><h3 id="cb973e6b-4912-4d41-b2fb-c9580609bdc0" class="">Unity</h3><p id="b0105893-8304-4bc4-ab87-0df859ae5d1e" class="">I knew from the start Unity had a really good AR engine. The reasons I tried to avoid it is because I felt it was overkill for the type of features I wanted to implement and thought the learning curve would be to hard to overcome. But, after analyzing the application and looking at examples, I realized that there were a lot of examples, really good documentation and all the basic tools I needed to make the app work were available. The big drawback of this approach was that it would be difficult to integrate the Unity app into a React Native and was not sure I would have the time given the timeframe. I thought I could do a WebXR build that would be ran on the browser but after looking into it, it was not very viable and the company that enabled that feature, <a href="https://www.zappar.com/">Zappar</a>, charged a very steep fee to do so and there were lots of comments saying it did not always worked. For this iteration, I decided to compromise on having a fully integrated application and opted to develop the interface and scanner separately. After looking at this <a href="https://www.youtube.com/watch?v=BsaPlgPn618&amp;t=1943s">workshop</a> showing the basics of creating a measuring app and making a test myself, I settled on Unity as my platform to create the digital measure app.</p><h2 id="dfe5f956-654a-49ec-bf40-84afebba8703" class="">Development Tools</h2><h3 id="175e7774-65ef-461b-8080-c99172c7d66a" class="">Platform choice</h3><p id="72879871-f0d0-4557-96e8-d431a3a331ca" class="">I decided to stick to iOS since I already have an iOS device and most people that would use this tool seems to also use an iOS device, including the iPhone but also the iPad. But, we will see later that the work done can also be exported to Android with the tools I chose to use.</p><h3 id="4e7e3254-9297-4950-b001-c36de2e6f23b" class="">AR Foundation</h3><div id="119721df-e41d-4b9d-b39d-7614f235ede4" class="column-list"><div id="c1d2798d-c02f-48e5-80a5-6fa3699482c0" style="width:50%" class="column"><p id="1bdf2e20-67b6-4596-b5c1-27c872be0c9e" class=""><a href="https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@5.1/manual/index.html">AR foundation</a> is multi-platform AR framework that enables to develop the AR functionality once in Unity which can then be built for different platform. It works very similarly to React Native by adapting the written code to the different target platforms by building them natively to that platform. This was very useful since I could develop the app once and export to iOS and Android directly.</p></div><div id="d969713f-8932-415a-97ee-6b7b26886b38" style="width:50%" class="column"><figure id="460d58eb-0127-4360-b16e-8889be9385c9" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_12.23.20_PM.png"><img style="width:966px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_12.23.20_PM.png"/></a></figure></div></div><h2 id="cdae6668-ac4a-495a-9371-4957e8a7827b" class="">Xcode</h2><p id="90577ade-780a-411c-b533-4529902c1136" class="">This is necessary to build the iOS app and to test it on the iOS device. Unity does provide a very nice tool to build the Unity application into an Xcode very easily which can then be ran directly in Xcode. It is not used for development only for running and building the application.</p><h1 id="64e3b3ab-2e8a-45ea-9879-7ea3fcb74c8f" class="">Features</h1><h2 id="d77fafcd-42fa-4e04-9225-6ff045070b2c" class="">Login and Create Account</h2><div id="21fca50f-f097-41f9-a313-de99d1fd50b0" class="column-list"><div id="41104cc5-ddd0-48d5-b190-7dae59e4c3f6" style="width:50%" class="column"><p id="beb0cb42-01c8-4f14-8459-bead5a3f08b6" class="">There is a simple interface to let user identify itself or simply create an account to identify ownership of the scrap. To implement this, I simply ask user to enter identification information like username, email or instagram handle. This information is then sent to the API to check the user’s record on the database and returns the ID of that user so it can be used to register the scrap.</p><p id="cf32a575-db48-4b46-9ac0-a08a3341de67" class="">All the User Interface elements were made in Unity directly using Unity’s provided UI components and game objects.</p></div><div id="a681b2c0-3709-47b1-8ed8-3e57f8651fd2" style="width:50%" class="column"><figure id="3f30f23d-d54f-4f88-a7ae-43926dceebbe" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-08_at_11.20.46_AM.png"><img style="width:878px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-08_at_11.20.46_AM.png"/></a></figure></div></div><div id="cb743141-b47e-478d-ad61-ef09708331da" class="column-list"><div id="5a7b4376-8dca-4159-94d9-e6e733b36650" style="width:50%" class="column"><h3 id="74858166-ee89-49a3-94bd-eda77f3a781c" class="">Identification UI</h3><figure id="d590195c-4c31-43f4-b002-1b361753194f" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%201.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%201.png"/></a></figure></div><div id="e1e208e2-a78f-4ceb-92ea-bc717e2f5321" style="width:50%" class="column"><h3 id="f402b43f-1bdc-4681-b6ec-af84a04fa4b4" class="">Create Account UI</h3><figure id="59520e6a-ca3a-4543-a4df-a872e9724697" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%202.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%202.png"/></a></figure></div></div><h3 id="c8c78479-e63e-4f0e-9472-210d77faf3c1" class="">Login UI</h3><div id="5a0a53ae-7c73-47c6-b5b3-9fc27cb9b672" class="column-list"><div id="06618e0b-b42b-42fd-84a0-8d6f6c39e531" style="width:50%" class="column"><figure id="70bfe46f-0d2c-4d96-bbd0-aeeda1ef2b7c" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8204.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8204.png"/></a></figure></div><div id="d3bcbbf2-78c9-410c-995a-b246e5b49209" style="width:50%" class="column"><figure id="6d2eae91-2bc8-4d94-a63c-900e6bb069cf" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8205.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8205.png"/></a></figure></div></div><h2 id="9a067fd6-b62c-46de-aaa9-383c28f48fd5" class="">Workflow</h2><figure id="a2ea1bda-6100-4751-b173-bdc34a14841e" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/scraps_processing_capture_workflow.png"><img style="width:2480px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/scraps_processing_capture_workflow.png"/></a></figure><h2 id="df843e42-6fc1-48fc-abaf-f9711a05c74b" class="">AR Plane Detection</h2><p id="33c029d2-b9a0-458e-97d5-5140eb57a5ce" class="">The first feature that needed to be implemented was the AR plane detection feature. AR Foundation provides the AR session and XR origin game objects to initiate the AR implementations and run the AR loop. This loop basically runs every frame and executes the operations defined in the application. </p><figure id="d0b91902-20e2-440a-beba-4a52442311c2" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_12.30.57_PM.png"><img style="width:880px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_12.30.57_PM.png"/></a></figure><p id="0ecbfe40-a116-4587-9e77-f87c94bb7b71" class="">In my case, I wanted to activate the plane detection feature so I simply had to attach the AR plane manager component to the XR origin and set the parameters to my liking. By doing this, the loop automatically tries do detect plan in the scene and places a plane prefab to alert users of detected planes.</p><div id="6e98f52a-c39b-4022-a115-9fd3051b383f" class="column-list"><div id="49fecf99-0256-4ceb-a13b-133b39d31f58" style="width:50%" class="column"><figure id="88d61d1e-e86f-48ed-8361-edc289723963" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_12.31.19_PM.png"><img style="width:748px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_12.31.19_PM.png"/></a></figure><p id="b66cfc01-2cc7-4394-b51a-bc9945baf22a" class="">By allowing plane detection, we can recognize plane surfaces and get an area that is delimited by 3D points. Those 3D points are on a scale of one meter per units, so a there is 1 meter between points <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,0,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span><span>﻿</span></span> and <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,0,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span><span>﻿</span></span> for example. This plane detection is the foundation we will need to evaluate distances between points on a surface.</p></div><div id="2e7ba10d-cb7e-4536-8dc5-3d9fa493828c" style="width:50%" class="column"><figure id="a52efbae-ab70-419e-8be4-854b9d8a6e85" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8206.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8206.png"/></a></figure></div></div><h2 id="88401acb-f31a-45b3-9b05-2b13233aa315" class="">Raycasting</h2><p id="344e3ba8-f8be-4cef-9d61-dfff6e5c7cf7" class="">Now that there is plane detection, we could technically put points on the plane and evaluate the distance between them. That means it is possible put points along the outlines of the scrap and get a measurement of each line that creates this outline.</p><p id="79464f67-cb64-4601-8689-1e1cbaf5140e" class="">The problem is how do we position those points? There needs to be an easy way to let the user position points at a specific point. To unlock this, we can use the Ar Raycast Manager component.</p><figure id="0e2a84f7-d4e0-4a11-94b8-6e598d15541e" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_1.38.35_PM.png"><img style="width:750px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Screenshot_2023-12-07_at_1.38.35_PM.png"/></a></figure><p id="6cb11c24-419d-48f6-a823-d0bf269352d5" class="">The Raycast Manager takes in a position on the screen and projects a straight line from the camera to the plane which corresponds to where the user clicked on the screen. It only returns a point if the user clicked on a part of the screen that is plane detected.</p><p id="b50187b1-0bc8-436a-adfa-dd9a1af34276" class="">I have first tried this touch approach where the users taps where they want to put a point. It works well and has accurate results but the problem was that it was hard to pinpoint precise location. Since the area touched by the thumb is so large, it is almost randomly placed under the thumb.</p><p id="5c0dcc96-e62b-4861-8230-ac778561ea9d" class="">In the <a href="https://www.youtube.com/watch?v=BsaPlgPn618&amp;t=1943s">measure app workshop</a>, they used the Raycast Manager but implemented it differently. Instead of using the touch position to determine the the position of the point, the Raycast was shot from the center of the screen at every frame and was checking where it hit.</p><pre id="f85fc2ce-9cbf-4022-84f3-698a602a5e72" class="code"><code>void SetRaycastManager()
{
		_hits = new List&lt;ARRaycastHit&gt;();
		_raycastManager.Raycast(
				new Vector2(Screen.width / 2, Screen.height / 2), // center of the screen
		    _hits, // AR Raycast Hit Points
		    TrackableType.PlaneWithinPolygon // Teel Raycast Manager to only intersects with detected planes
		);
}</code></pre><pre id="ee325b6b-8c7c-42d5-9c4e-8a5da3d70ef2" class="code"><code>// check if there was a hit with a plane
void SetHasHit()
{
		// there could be multiple hits but in our case we only want the first one
    if (_hits.Count &gt; 0) 
    {
        _hasHit = true;
				// store position of the hit points
        _hitPoint = _hits[0].pose.position;
    }
    else
    {
        _hasHit = false;
    }
}

// we can update the reticle position with the hit point position and rotation
void UpdateReticle()
{
																													// elevate above the plane
    reticle.transform.position = _hits[0].pose.position + (Vector3.up * 0.005f);
    reticle.transform.rotation = _hits[0].pose.rotation;
}</code></pre><div id="a1b87605-d7b7-4c50-b5c6-17aac13b0c1c" class="column-list"><div id="400cb027-08d8-41a0-8ec4-45c6c1c7c62d" style="width:56.25%" class="column"><p id="0d360a74-2034-45ef-ade2-90ef32aef11f" class="">Using the hitpoint, they would put a “reticle” to show where the Raycast hit. Using this technique, the user always knows where the Raycast hits. </p><p id="4f3d7a71-a12f-4dad-9963-bf25dff17439" class="">I noticed that it was much more precise the move the device to position the reticle than to use the thumb to shoot the Raycast. The user could see where the point would be in real time and simply tap the screen to create an outline points.</p></div><div id="4bb9c882-7f28-4940-9157-9e77d46a9e75" style="width:43.75%" class="column"><figure id="cd98158f-8de7-4b76-a148-aa311822e090" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8207.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8207.png"/></a></figure></div></div><p id="2eb12a98-4846-4692-b24d-5095a05c89e1" class="">
</p><h2 id="93df1a41-928e-49a4-9daf-b3405e8bce50" class="">Distance between points</h2><p id="9c24d057-ed8b-4450-bc90-487ceb4cb425" class="">The formula to find the distance between two 3D points <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span><span>﻿</span></span> and <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span><span>﻿</span></span> is</p><figure id="8a7316d1-681a-46b8-b8d1-e0c51fc8c252" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>B</mi><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>0</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>−</mo><msub><mi>y</mi><mn>0</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>z</mi><mn>1</mn></msub><mo>−</mo><msub><mi>z</mi><mn>0</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">AB = \sqrt{(x_1-x_0)^2+(y_1-y_0)^2+(z_1-z_0)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9439em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em;"><span></span></span></span></span></span></span></span></span></span></div></figure><p id="a049e2c1-7f81-44f2-9631-698b480ff6ad" class="">Fortunately, Unity already implements this in its standard Vector library so we don’t have to do it ourselves.</p><pre id="7e616836-0503-4a14-bb01-f6589c2ead5b" class="code"><code>public static void calculateDistance()
{
		// A and B are vectors
		Vector3.Distance(A, B)
}

public static float Distance(Vector3 a, Vector3 b)
{
  float num1 = a.x - b.x;
  float num2 = a.y - b.y;
  float num3 = a.z - b.z;
  return (float) Math.Sqrt((double) num1 * (double) num1 + (double) num2 * (double) num2 + (double) num3 * (double) num3);
}</code></pre><p id="abc87634-0144-488b-8b68-be1c7b9706d8" class="">Since we can assume that the distance between points is equivalent to 1 meter per units, then the distance between two points on the plane will reflect a real distance in the real space. Then we simply need to use the Raycast manager and the distance formula to start real digital measurements on the plane.</p><figure id="b68af29d-d8e2-4ca6-93e0-6944b5247d61" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%203.png"><img style="width:1152px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%203.png"/></a></figure><h2 id="2990f4b1-35d5-4eaf-9942-999e82adb193" class="">Outline Drawing Integration</h2><p id="5a1b2b45-ff25-45bc-bc52-8b1cb72b0be4" class="">Using the Raycast Manager, the Plane Detection and the distance formula, we can start integrating them together to create an outline drawing feature.</p><h3 id="45bf4ce4-89ed-4425-8430-377d26c2cd80" class="">Points Positioning</h3><p id="18ae721a-23b9-43b9-8b79-907a02b31847" class="">The first thing that was integrated was to position a point at the reticle position when the user taps the screen. We can use the the even managing system in unity to detect the frame the user touches the screen.</p><pre id="7e65ea92-9023-494d-81db-5c6862085b38" class="code"><code>void CheckHitPoints()
    {
        // If the user is touching the screen and make sure it only happens when we first touch the screen
        if (!EventSystem.current.IsPointerOverGameObject() &amp;&amp;
            Input.touchCount &gt; 0 &amp;&amp;
            Input.GetTouch(0).phase == TouchPhase.Began)
        {
            // Create a new sphere to place into space as a point
            GameObject point = CreatePoint();

            // Set point position depending on anchor mode and current hit position
            SetPointPosition(point);

            // If it is the first point, identify as the anchor
            if (scrapPoints.Count == 0)
            {
                _anchor = point;
            }

            // Add it to the collection of points
            scrapPoints.Add(point);
        }
    }</code></pre><figure id="acf828e4-6c48-4997-82d7-481dde11049f" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%204.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%204.png"/></a></figure><h3 id="ad97074b-9479-418a-98e0-d10943da76e3" class="">Close Outline Loop </h3><p id="2d60664b-7171-42a8-83ee-9af3c9cfbbb6" class="">Since we want to draw outlines, we need some kind of way to evaluate if the outline needs to be closed. We can first store the position of the point that was created. At each frame, we check if the reticle is close to that point. If it is close enough, we can suggest to the user close the loop by locking the reticle onto the point. This is very simple to implement. I called the zone close to the first point the “anchor zone”.</p><pre id="1c4c9299-35f4-4211-9a7c-1f79aa6ed5dd" class="code"><code>void CheckIfInAnchorZone()
{
    // There needs to be at least 2 points set to anchor to the initial point
    if (scrapPoints.Count &lt; 3)
    {
        return;
    }
																																									 // epsilon
    if (Vector3.Distance(reticle.transform.position, _anchor.transform.position) &lt; 0.015)
    {
        SetReticleToAnchorMode();
    }
		// If in anchor mode and not close enough to anchor, disable the anchor mode and reset reticle
    else if (_inAnchorMode) 
    {
        SetReticleToCaptureMode();
    }
}

void SetReticleToAnchorMode()
{
		// move reticle to the position of the point
    reticle.transform.position = _anchor.transform.position + (Vector3.up * 0.005f);
		// change the color to alert user
    reticle.GetComponent&lt;MeshRenderer&gt;().material.color = Color.blue;
		// change the state of the capture
    _inAnchorMode = true;
}</code></pre><div id="324e1baa-964c-44f0-b11c-423e317c08da" class="column-list"><div id="6c589d21-51bb-4824-b7a3-30aed740930f" style="width:50%" class="column"><figure id="e1774f54-e0a1-4efb-a5c5-9f4a8166ce59" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%205.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%205.png"/></a></figure></div><div id="71f0559d-6b8d-400b-a1b4-7fc9347952cd" style="width:50%" class="column"><figure id="0c1bc4e5-04e2-4e99-8957-7b940f899c62" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%206.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%206.png"/></a></figure></div></div><h3 id="5fde8d65-0575-4be3-a4d7-fd1069a56026" class="">Lines drawing</h3><p id="29acb07b-8ea0-4df0-9d33-6ea7b4f6e2a6" class="">We have all the information we need to draw lines between each points and indicate the distances between them. We can iterate over all created points, calculate the distances between them and render a line between the two with a text in the middle that displays the distance.</p><pre id="67c87b31-5e6e-40b2-9dc1-00424c6f1575" class="code"><code>void DrawDistanceLines()
{
    // Drawing the lines as the points are created
    if (scrapPoints.Count &gt;= _scrapPointsLines.Count + 2)
    {
        // Position of the line
        int position = _scrapPointsLines.Count;

        // Get the 3D position of the scrap points
        Vector3 point1 = scrapPoints[scrapPoints.Count - 1].transform.position;
        Vector3 point2 = scrapPoints[scrapPoints.Count - 2].transform.position;

        // Distance between the 2 points
        float distance = Vector3.Distance(point1, point2);

        // Set up the game object for the distance lines
        GameObject distanceLineObject = new GameObject(&quot;Distance Line #&quot; + position);

        // Set up the rendered for the lines and link it to the game object
        LineRenderer distanceLine = distanceLineObject.AddComponent&lt;LineRenderer&gt;();

        // Make sure there is a material attached
        distanceLine.material = new Material(Shader.Find(&quot;Sprites/Default&quot;));
        distanceLine.positionCount = 2;
        distanceLine.startWidth = 0.001f;
        distanceLine.endWidth = 0.001f;
        distanceLine.startColor = Color.white; // Set the start color of the line
        distanceLine.endColor = Color.white; // Set the end color of the line
        distanceLine.SetPosition(0, point1);
        distanceLine.SetPosition(1, point2);
        _scrapPointsLines.Add(distanceLineObject);

        // Put text along the line
        WriteDistanceOnLine(point1, point2, distance, position);
    }
}</code></pre><pre id="fe574435-617c-4b13-940d-d985fe90c634" class="code"><code>void WriteDistanceOnLine(Vector3 point1, Vector3 point2, float distance, int position)
{
    // Init the game object and the text mesh
    GameObject distanceTextObject = new GameObject(&quot;Distance Text #&quot; + position);
    TextMeshPro distanceTextMesh = distanceTextObject.AddComponent&lt;TextMeshPro&gt;();

    // Convert the distance into centimeters
    float distanceInCM = distance * 100;
    string textValue = (distanceInCM.ToString(&quot;0.00&quot;) + &quot;cm&quot;);

    // Set up the text mesh
    distanceTextMesh.text = textValue;
    distanceTextMesh.fontSize = 0.05f;
    distanceTextMesh.color = Color.black;
    distanceTextMesh.alignment = TextAlignmentOptions.Center;
    distanceTextMesh.transform.position = ((point1 + point2) / 2f) + _yOffset;
    distanceTextMesh.transform.LookAt(phoneCamera.transform);
    distanceTextMesh.transform.Rotate(new Vector3(0, 180, 0));
    _distanceTexts.Add(distanceTextObject);
}</code></pre><figure id="f788e03b-e807-4cd4-9277-ec8da5657e00" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%207.png"><img style="width:1165px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%207.png"/></a></figure><h2 id="02dda9ed-c99e-4b7d-a1ea-f8701a81c51f" class="">Taking a Screenshot</h2><p id="238815b2-e084-42ea-ae61-075f7e93ba78" class="">To take a screenshot, I needed to be a little creative. There are modules to save screenshots locally which I could then send to the <a href="Scraps%20Processing%20API%20892b8bd91f204a9788fab2544dee732c.html"><span class="icon">📋</span>Scraps Processing API</a> . But, due to the constraints of development build and access to the phone’s static storage, my options are limited when writing and reading files on the phone. Instead, I can transform the pixel values of the screen into a Unity texture object;</p><pre id="0b6ef010-4c56-4300-8f79-eff88dc82011" class="code"><code>ui.SetActive(false);

yield return new WaitForEndOfFrame(); 
Texture2D texture = new Texture2D(Screen.width, Screen.height, TextureFormat.RGB24, false);
texture.ReadPixels(new Rect(0, 0, Screen.width, Screen.height), 0, 0);
texture.Apply();</code></pre><p id="674d3afa-3680-4682-9703-42be5240ab15" class="">Then, we can encode the texture’s data into a PNG format directly into the phone’s memory instead of writing it locally. Using this data, we can directly send it to the API and decode it on the server instead of the phone.</p><pre id="2e5d2dfb-6ea7-4287-9ec5-b49d554344ce" class="code"><code>byte[] imageBytes = texture.EncodeToPNG();
yield return new WaitForSeconds(1); // Wait for the screenshot to be saved

WWWForm form = new WWWForm();
form.AddBinaryData(&quot;file&quot;, imageBytes, timestamp + &quot;.png&quot;, &quot;image/png&quot;);

UnityWebRequest request = UnityWebRequest.Post(serverURL, form);
yield return request.SendWebRequest();

if (request.result != UnityWebRequest.Result.Success)
{
    Debug.LogError(&quot;Error uploading image: &quot; + request.error);
}
else
{
    Debug.Log(&quot;Image uploaded successfully!&quot;);
}
ui.SetActive(true);</code></pre><p id="36456afb-a48a-4539-8ea6-42077449e4c3" class="">As a convention, the image is set to the timestamp when the screenshot was taken. </p><div id="579c5fba-21e7-427c-ad64-8b1727a59c06" class="column-list"><div id="1a4499c6-fc78-41c4-9d46-676a972cce49" style="width:50%" class="column"><figure id="07f5d50b-da8f-43cb-991f-251a8f33cf92" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%208.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%208.png"/></a></figure></div><div id="c25e586e-307d-4d2f-915a-71f6d347fc27" style="width:50%" class="column"><figure id="847b435b-a4c5-47e6-8d72-4aea948671c0" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%209.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/Untitled%209.png"/></a></figure></div></div><p id="101052fb-01b2-4f23-ba4d-fcc4d0355a25" class="">Some further processing needs to be done to store the image in a way that can be reference later. See the section to get more information about how the image is processed.</p><h2 id="e8adbb35-f249-45c6-8521-d9923ebcebd6" class="">Sending Scraps Data</h2><div id="503c15f9-887b-4462-abdb-b42d49db0fc0" class="column-list"><div id="e963c157-5c49-4d2d-bc0a-be9637dc8b78" style="width:50%" class="column"><p id="79c7b0fa-3c83-491b-badd-589b12d0dff6" class="">Now that we have the data, how do send that data to the database. To see how the data is handled, check the <a href="Scraps%20Processing%20API%20892b8bd91f204a9788fab2544dee732c.html"><span class="icon">📋</span>Scraps Processing API</a> documentation. In the scanner, we simply have to package the data we collected and make a request to the API. The scrap dimensions, location, and picture of the scrap have been recorded.</p><p id="4a15e1e0-f077-4ab0-9e85-5d211456bd41" class="">There are information the we need to gather manually. Like the textile class of the scrap, the textile type and some notes about them to help users get a grasp of the scrap. A register form appears and asks the user about this information.</p><p id="1fd9a536-fa2c-4527-89a1-71e688af0821" class="">Once everything is written down, the user presses done to send that information.</p><p id="a4c6e9c8-7ab0-40f2-a538-9aa4f1ae4518" class="">The image is already stored in a database so we simply need to include the image name.</p><p id="e08c7b93-fe82-49ed-b698-f10e7431aaa0" class="">To see all the details about how the the request was implemented see the  section of the API.</p></div><div id="77e3facc-edf8-49ed-968d-4bca3f8958dd" style="width:50%" class="column"><figure id="6c926e0a-d1ab-499d-aae5-68f8ae34ebfe" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8214.png"><img style="width:1170px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8214.png"/></a></figure></div></div><p id="0bad5dff-6310-4f8c-aa49-8c2c53619baa" class="">I am using Unity’s request library to send the data and receive the response from the API.</p><pre id="6287d9f1-412d-4248-b3d2-d3807e1ee401" class="code"><code>void SubmitScrap()
{
    _displayMessages = false;
    // Extracting information
    string enteredScrapNotes = scrapNotes.text;
    string selectedTextileClass = textileClass.options[textileClass.value].text;
    string selectedTextileType = textileType.options[textileType.value].text;

    string baseRequest =
        &quot;https://scraps-processing-api-delicate-pond-5077.fly.dev/scraps?textile-class={0}&amp;textile-type={1}&amp;color={2}&amp;owner={3}&amp;note=&#x27;{4}&#x27;&amp;dimensions={5}&amp;image={6}&quot;;
    string requestAddress = String.Format(
        baseRequest,
        selectedTextileClass,
        selectedTextileType,
        scrapColor,
        user.userID,
        enteredScrapNotes,
        _scrapPointsCollection,
        _timestamp
    );
    if (useGeolocationComponent)
    {
        string selectedUseGeolocation = &quot;[&quot; + location.latitude.ToString().Replace(&quot;,&quot;, &quot;.&quot;) + &quot;,&quot; +
                                        location.longitude.ToString().Replace(&quot;,&quot;, &quot;.&quot;) + &quot;]&quot;;
        requestAddress += (&quot;&amp;geolocation=&quot; + selectedUseGeolocation);
    }

    UnityWebRequest request = UnityWebRequest.Put(requestAddress, &quot;&quot;);

    var operation = request.SendWebRequest();
    while (!operation.isDone)
    {
    }

    string scrapInfo;

    // Check for errors
    if (request.responseCode == 204)
    {
        // TODO handle errors
    }
    else
    {
        // Request successful, get the response
        scrapInfo = request.downloadHandler.text;
        string pattern = &quot;\&quot;id\&quot;\\s*:\\s*\&quot;([^\&quot;]*)\&quot;&quot;;
        MatchCollection matches = Regex.Matches(scrapInfo, pattern);
        ActivateScanNewScrapsInterface(matches[0].Groups[1].Value);
    }

    DeactivateRegisterForm();
}</code></pre><h2 id="94160f0b-95c2-45e7-9657-aced200fe113" class="">Identification</h2><div id="b4d2c687-284d-4eb9-89b4-1ee9de7c13e4" class="column-list"><div id="d581a967-e092-4c88-a4ab-0950b9312cb7" style="width:62.5%" class="column"><p id="0493380d-b599-4203-b50a-ecfac190cb78" class="">The identification of the scrap is generated by the API. The ID of the scrap is displayed so it can be easily identified later in the process.</p><p id="92aef718-1e4c-4e4e-bde8-917ac28cb0c7" class="">From there, you can continue scanning other scraps or simply exit the application.</p></div><div id="bf288b30-0218-4a71-b119-beefd8a14149" style="width:37.5%" class="column"><figure id="8f7737fd-8511-423d-847d-c184adee3d46" class="image"><a href="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8215.png"><img style="width:192px" src="Scraps%20Processing%20Scanner%20d047ea05d11a429ead4a9828ae6e394d/IMG_8215.png"/></a></figure></div></div><h1 id="c9048758-420f-4636-8103-47aa4ac3a83b" class="">Live Demo</h1><h2 id="2bc2ff1d-65e2-42c2-aec8-4b66dec36bb4" class="">Create an account and register a scrap</h2><figure id="60e98bc4-0762-4e04-8a63-466532796a88"><div class="source"><a href="https://youtu.be/Vu44FiwVsUE">https://youtu.be/Vu44FiwVsUE</a></div></figure><h2 id="1406d260-b565-4e1d-91e3-39508125ba95" class="">Login and register a scrap</h2><figure id="47715c97-a6f5-4672-bef2-f60d8ea4bd1e"><div class="source"><a href="https://www.youtube.com/watch?v=7Yo_2uCGpYs">https://www.youtube.com/watch?v=7Yo_2uCGpYs</a></div></figure><h1 id="5250e2c1-e4c6-4563-89a9-594a222697cf" class="">Non-implemented Features</h1><h2 id="88208e54-0148-4761-9985-45084e74c439" class="">Color detection</h2><p id="4375ca01-1d71-4d4d-884c-2e749061ff4d" class="">I wanted to include an automatic color detection algorithm in the scanner. I made some attempts to cut the photos using the points. The problem arose when I was trying to map the 3D points to 2D coordinates on the image. I initially thought it would be easier but after starting to tackle the problem, I realized it was much more complex than I thought. I would have to use computer vision tools like <a href="https://opencv.org/">OpenCV</a> and make integration with Unity or my API. In the timeframe I had, I decided to focus my energy on other aspects which would improve the experience of using the application more.</p><h2 id="5d77501d-c02a-4310-b9c7-9b971853ae1b" class="">Integration with React Native</h2><p id="4a401079-4000-4df3-997a-6589d019ff88" class="">The application is still very much at a prototype level so I was still comfortable presenting the scanner and interface as two different applications. I would be present to demonstrate the application so it was not a super big deal. I would have to put a lot of effort to make those work together and would have lost time to work on more essential features. </p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>